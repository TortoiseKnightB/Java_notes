# 关于那些深不可见的坑

### 不可见字符 '\u200B'

- `\u200b` 是Unicode中的“零宽度空间”，我在某公司面试题的时候首次遇到，被坑坏了，记忆深刻。

- `\u200b` 其在命令行输出、调试器中都看不见，但是占用一个字符长度。使用`char charAt(int index)` 可以捕获，见如下示例

```java
        String a = "\u200Bfrom";
        String b = "from";
        System.out.println(a);			// from
        System.out.println(b);			// from
        boolean bool = a.equals(b);
        System.out.println(bool);		// false
```

- 调试界面如下

<p align="center">
          <img src="https://raw.githubusercontent.com/TortoiseKnightB/Java_notes/main/images/关于那些深不可见的坑/01.png" width="1000"/>
  </p>

- a 为加上 `\u200b` 的字符串，b 为正常字符串。发现其在调试器中的显示一模一样，而`a.equals(b)` 却返回 `false`，要是以前没有遇见过很难发现这个坑
- 使用`a.charAt(0)` 捕获字符串 a 的首个字符，可以发现其结果并非`f`，而是看不见的`\u200B`
- `\u200b` 无法用`String trim()` 处理掉，得用 `a.replaceAll("\u200B", "")` 替换掉
- `\u200b` 的来源暂时没有弄清楚，只知道可能和前端有关，以后遇到这种坑能够想到它就行了

------

### leetcode 中测试通过，提交不过

- 同一个输入，在 leetcode 控制台中测试通过，在提交中却执行报错。参考 leetcode 的官方答案
- 
- 即：如果编写语言为 **Java**，尽量不要使用 **static** 全局变量

