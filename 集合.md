# 集合

### Collection接口继承树

<p align="center">
        <img src="https://raw.githubusercontent.com/TortoiseKnightB/Java_notes/main/images/%E9%9B%86%E5%90%88/01.png" width="500"/>
</p>

```
.
└── Collection接口：单列集合，用来存储单个的对象
    │
    ├── List接口：存储有序的、可重复的数据
    │   │ 
    │   ├── ArrayList：主要实现类，底层使用Object[] elementData存储；线程不安全的，效率高
    │   ├── LinkedList：底层使用双向链表存储；适用于频繁的插入、删除操作
 		│ 	└── Vector：底层使用Object[] elementData存储；线程安全的，效率低；现在已经不使用
 		│
 		└── Set接口：存储无序的、不可重复的数据   
 		    │
				├── HashSet：主要实现类，线程不安全的；可以存储null值
				│   │ 
        │   └── LinkedHashSet：HashSet的子类；可以按照添加的顺序遍历内部数据，适用于频繁的遍历操作
        │
 		  	└── TreeSet：可以按照添加对象的指定属性，进行排序。
 		  	
```

### 迭代器 Iterator

```java
				Collection coll = new ArrayList();
        coll.add(123);
				// 要求 Person 所在类要重写equals()
        coll.add(new User("Ben",22));
        coll.add(new String("Hello"));
        coll.add(true);

        Iterator iterator = coll.iterator();

				while(iterator.hasNext()){
            //next():①指针下移 ②将下移以后集合位置上的元素返回
            System.out.println(iterator.next());
        }

				// 删除集合中"hello"
        Iterator iterator = coll.iterator();
        while (iterator.hasNext()){
            Object obj = iterator.next();
            if("hello".equals(obj)){
                iterator.remove();
            }
        }
```

- 注意：向Collection接口的实现类的对象中添加数据obj时，要求obj所在类要重写equals().

<p align="center">
        <img src="https://raw.githubusercontent.com/TortoiseKnightB/Java_notes/main/images/%E9%9B%86%E5%90%88/02.png" width="500"/>
</p>

### List 接口

- **ArrayList**

&ensp;&ensp;&ensp;&ensp;`ArrayList list = new ArrayList();` 底层 `Object[] elementData` 初始化为{}

<p align="center">
        <img src="https://raw.githubusercontent.com/TortoiseKnightB/Java_notes/main/images/%E9%9B%86%E5%90%88/03.png" width="500"/>
</p>

<p align="center">
        <img src="https://raw.githubusercontent.com/TortoiseKnightB/Java_notes/main/images/%E9%9B%86%E5%90%88/04.png" width="500"/>
</p>

&ensp;&ensp;&ensp;&ensp;`list.add(123);` 第一次调用 `add()` 时，底层才创建了长度10的数组，并将数据123添加到 `elementData[0]`

<p align="center">
        <img src="https://raw.githubusercontent.com/TortoiseKnightB/Java_notes/main/images/%E9%9B%86%E5%90%88/05.png" width="500"/>
</p>

- **LinkedList**

&ensp;&ensp;&ensp;&ensp;`LinkedList list = new LinkedList();` 内部声明了 Node 类型的 first 和 last 属性，默认值为 null

&ensp;&ensp;&ensp;&ensp;`list.add(123);` 将123封装到 Node 中，创建了 Node 对象
